
<div class="panel">    
    <div class="panel-heading border">
        <div><h4>Add User:</h4></div>
        <form class="form-inline">
            <div class="form-group">
                <label for="">Role</label>
                <select class="form-control"  ng-model="selectedRole" ng-options="role.rolename for role in roles"></select>                
            </div>
            <div class="form-group">
                <label for="">UserName</label>
                <input type="text" class="form-control"  placeholder="Input Username" ng-model="newUser.usr_username" required/>
            </div>
            <div class="form-group">
                <label for="">Password</label>
                <input type="text" class="form-control"  placeholder="Input Password" ng-model="newUser.usr_password" required/>
            </div>            
            <div class="form-group">
                <label for="">Email</label>
                <input type="email" class="form-control" placeholder="Input Email" ng-model="newUser.usr_email" required/>
            </div>
            <div class="form-group">
                <label for="">Picture</label>
                <input type="file" accept="image/*" ng-model="picFile" onchange="angular.element(this).scope().fn.loadImage(files)">
                <!-- <input type="file"  accept="image/*" class="form-control" ng-model="newUser.usr_picture" required/> -->
            </div>
            <img id="output"/>
            <button type="button" class="btn btn-success" ng-click="fn.addUser()">Save</button>            
        </form>        
    </div>
    <div class="panel-body">        
        <table class="table table-bordered bordered table-striped table-condensed datatable" datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" class="row-border hover">
            <thead>
                    <tr>
                        <th>#</th>
                        <th>UserName</th>
                        <th>Password&nbsp;<i class="fa fa-eye" aria-hidden="true" ng-click="fn.onViewPassword()"></i></th>
                        <th>UserEmail</th>
                        <th>Role</th>
                        <th>Picture</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="u in users">
                        <td>{{$index+1}}</td>
                        <td>{{u.usr_username}}</td>
                        <td>
                            <input ng-if="selectedPassword" class="border-none transparent" type="text" value="{{u.usr_password}}" readonly>
                            <input ng-if="!selectedPassword" class="border-none transparent" type="password" value="{{u.usr_password}}" readonly>
                        </td>
                        <td>{{u.usr_email}}</td>
                        <td>{{u.rolename}}</td>
                        <td><img class="user-picture" src="{{root + u.usr_picture}}"></td>
                        <td>
                            <button type="button" class="btn btn-primary" ng-click="fn.onUpdateUser(u)"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i>Update</button>
                            <button type="button" class="btn btn-danger" ng-click="fn.onDeleteUser(u.userid)"><i class="fa fa-trash-o fa-lg"></i> Delete</button>
                        </td>
                    </tr>
                </tbody>
        </table>
    </div>
</div>
